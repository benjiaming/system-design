<?xml version="1.0" encoding="UTF-8"?>
<!-- Do not edit this file with editors other than draw.io -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" style="background: #ffffff; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212)); color-scheme: light dark;" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="830px" height="757px" viewBox="-0.5 -0.5 830 757" content="&lt;mxfile host=&quot;app.diagrams.net&quot; agent=&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36&quot; version=&quot;26.2.14&quot; scale=&quot;1&quot; border=&quot;0&quot;&gt;&#10;  &lt;diagram name=&quot;Page-1&quot; id=&quot;JqNY8BTypZa2bjlkMLGi&quot;&gt;&#10;    &lt;mxGraphModel dx=&quot;1205&quot; dy=&quot;1884&quot; grid=&quot;1&quot; gridSize=&quot;10&quot; guides=&quot;1&quot; tooltips=&quot;1&quot; connect=&quot;1&quot; arrows=&quot;1&quot; fold=&quot;1&quot; page=&quot;1&quot; pageScale=&quot;1&quot; pageWidth=&quot;850&quot; pageHeight=&quot;1100&quot; math=&quot;0&quot; shadow=&quot;0&quot;&gt;&#10;      &lt;root&gt;&#10;        &lt;mxCell id=&quot;0&quot; /&gt;&#10;        &lt;mxCell id=&quot;1&quot; parent=&quot;0&quot; /&gt;&#10;        &lt;mxCell id=&quot;mnfu5z3pjoMPdWj8_KTB-1&quot; value=&quot;&amp;lt;h1&amp;gt;Facebook Post Search&amp;lt;/h1&amp;gt;&quot; style=&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;290&quot; y=&quot;-12&quot; width=&quot;280&quot; height=&quot;70&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;mnfu5z3pjoMPdWj8_KTB-2&quot; value=&quot;&amp;lt;h2&amp;gt;Functional Requirements&amp;lt;/h2&amp;gt;&amp;lt;div&amp;gt;&amp;lt;ol&amp;gt;&amp;lt;li style=&amp;quot;text-align: left;&amp;quot;&amp;gt;Users should be able to create &amp;amp;amp; like posts&amp;lt;/li&amp;gt;&amp;lt;li style=&amp;quot;text-align: left;&amp;quot;&amp;gt;Users should be able to search by keyword&amp;lt;/li&amp;gt;&amp;lt;li style=&amp;quot;text-align: left;&amp;quot;&amp;gt;Users get search results by recency &amp;amp;amp; like count&amp;lt;/li&amp;gt;&amp;lt;/ol&amp;gt;&amp;lt;/div&amp;gt;&quot; style=&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;58&quot; width=&quot;320&quot; height=&quot;120&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;mnfu5z3pjoMPdWj8_KTB-3&quot; value=&quot;&amp;lt;h2&amp;gt;Non-Functional Requirements&amp;lt;/h2&amp;gt;&amp;lt;div&amp;gt;&amp;lt;ol&amp;gt;&amp;lt;li style=&amp;quot;text-align: left;&amp;quot;&amp;gt;median response &amp;amp;lt; 500ms&amp;lt;/li&amp;gt;&amp;lt;li style=&amp;quot;text-align: left;&amp;quot;&amp;gt;eventual consistency&amp;lt;/li&amp;gt;&amp;lt;li style=&amp;quot;text-align: left;&amp;quot;&amp;gt;new posts searchable &amp;amp;lt; 1min&amp;lt;/li&amp;gt;&amp;lt;li style=&amp;quot;text-align: left;&amp;quot;&amp;gt;all posts discoverable incl. old and unpopular&amp;lt;/li&amp;gt;&amp;lt;/ol&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;text-align: left;&amp;quot;&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/div&amp;gt;&quot; style=&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;510&quot; y=&quot;50&quot; width=&quot;300&quot; height=&quot;150&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;mnfu5z3pjoMPdWj8_KTB-4&quot; value=&quot;&amp;lt;h2&amp;gt;Out of Scope&amp;lt;/h2&amp;gt;&amp;lt;div&amp;gt;&amp;lt;ul&amp;gt;&amp;lt;li style=&amp;quot;text-align: left;&amp;quot;&amp;gt;fuzzy matching&amp;lt;/li&amp;gt;&amp;lt;li style=&amp;quot;text-align: left;&amp;quot;&amp;gt;personalization&amp;lt;/li&amp;gt;&amp;lt;li style=&amp;quot;text-align: left;&amp;quot;&amp;gt;privacy rules/settings&amp;lt;/li&amp;gt;&amp;lt;li style=&amp;quot;text-align: left;&amp;quot;&amp;gt;images &amp;amp;amp; media&amp;lt;/li&amp;gt;&amp;lt;/ul&amp;gt;&amp;lt;/div&amp;gt;&quot; style=&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;320&quot; y=&quot;58&quot; width=&quot;180&quot; height=&quot;130&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;mnfu5z3pjoMPdWj8_KTB-5&quot; value=&quot;&amp;lt;h2&amp;gt;Scale Estimations&amp;lt;/h2&amp;gt;&amp;lt;div&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/div&amp;gt;&quot; style=&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;330&quot; y=&quot;178&quot; width=&quot;180&quot; height=&quot;80&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;mnfu5z3pjoMPdWj8_KTB-6&quot; value=&quot;&amp;lt;div style=&amp;quot;text-align: left;&amp;quot;&amp;gt;writes:&amp;amp;nbsp;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;lt;ul&amp;gt;&amp;lt;li&amp;gt;posts =&amp;amp;gt; 1B x 1 post/day /(100k seconds/day) = 10 posts/sec&amp;lt;/li&amp;gt;&amp;lt;li&amp;gt;&amp;lt;span style=&amp;quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&amp;quot;&amp;gt;likes: 1B x 10likes/day /(100k seconds/day) = 100k likes/sec&amp;lt;/span&amp;gt;&amp;lt;/li&amp;gt;&amp;lt;/ul&amp;gt;&amp;lt;/div&amp;gt;&quot; style=&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;30&quot; y=&quot;230&quot; width=&quot;390&quot; height=&quot;80&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;mnfu5z3pjoMPdWj8_KTB-7&quot; value=&quot;&amp;lt;br&amp;gt;&amp;lt;div&amp;gt;&amp;lt;ul&amp;gt;&amp;lt;li&amp;gt;reads: searches =&amp;amp;gt; 1B * 1 search/day(100k seconds/day)&amp;lt;/li&amp;gt;&amp;lt;li style=&amp;quot;text-align: left;&amp;quot;&amp;gt;storage:posts =&amp;amp;gt; 1B/day * 365 * 10 years =&amp;amp;gt; 3.6PB&amp;lt;/li&amp;gt;&amp;lt;/ul&amp;gt;&amp;lt;/div&amp;gt;&quot; style=&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;425&quot; y=&quot;230&quot; width=&quot;370&quot; height=&quot;80&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;mnfu5z3pjoMPdWj8_KTB-8&quot; value=&quot;write heavy system&quot; style=&quot;whiteSpace=wrap;html=1;shape=mxgraph.basic.oval_callout&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;120&quot; y=&quot;200&quot; width=&quot;100&quot; height=&quot;60&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;mnfu5z3pjoMPdWj8_KTB-9&quot; value=&quot;&amp;lt;h2&amp;gt;Core Entities&amp;lt;/h2&amp;gt;&amp;lt;div&amp;gt;User | Post | Like&amp;lt;/div&amp;gt;&quot; style=&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;345&quot; y=&quot;290&quot; width=&quot;130&quot; height=&quot;80&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;mnfu5z3pjoMPdWj8_KTB-10&quot; value=&quot;&amp;lt;h2&amp;gt;API&amp;lt;/h2&amp;gt;&quot; style=&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;385&quot; y=&quot;353&quot; width=&quot;50&quot; height=&quot;60&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;mnfu5z3pjoMPdWj8_KTB-11&quot; value=&quot;POST /post {title, content} -&amp;amp;gt; Post || POST /post/like/:postId || GET /posts/search?query={}&amp;amp;amp;filters...&amp;amp;amp;page={]limit={}&quot; style=&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;105&quot; y=&quot;390&quot; width=&quot;630&quot; height=&quot;30&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;mnfu5z3pjoMPdWj8_KTB-12&quot; value=&quot;&amp;lt;h2&amp;gt;High Level Design&amp;lt;/h2&amp;gt;&quot; style=&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;330&quot; y=&quot;403&quot; width=&quot;180&quot; height=&quot;60&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;mnfu5z3pjoMPdWj8_KTB-15&quot; value=&quot;&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;mnfu5z3pjoMPdWj8_KTB-16&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;357.5&quot; y=&quot;488&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;mnfu5z3pjoMPdWj8_KTB-14&quot; value=&quot;Post Service&quot; style=&quot;shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;167.5&quot; y=&quot;473&quot; width=&quot;100&quot; height=&quot;30&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;mnfu5z3pjoMPdWj8_KTB-17&quot; value=&quot;&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;mnfu5z3pjoMPdWj8_KTB-14&quot; target=&quot;mnfu5z3pjoMPdWj8_KTB-16&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;267.5&quot; y=&quot;488&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;357.5&quot; y=&quot;488&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;mnfu5z3pjoMPdWj8_KTB-16&quot; value=&quot;&quot; style=&quot;outlineConnect=0;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;shape=mxgraph.aws3.classic_load_balancer;fillColor=#F58536;gradientColor=none;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;307.5&quot; y=&quot;463&quot; width=&quot;40&quot; height=&quot;50&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;mnfu5z3pjoMPdWj8_KTB-20&quot; value=&quot;&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;mnfu5z3pjoMPdWj8_KTB-18&quot; target=&quot;mnfu5z3pjoMPdWj8_KTB-21&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;547.5&quot; y=&quot;480&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;mnfu5z3pjoMPdWj8_KTB-18&quot; value=&quot;Event Writer&quot; style=&quot;shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;367.5&quot; y=&quot;463&quot; width=&quot;110&quot; height=&quot;47&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;mnfu5z3pjoMPdWj8_KTB-24&quot; value=&quot;&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;mnfu5z3pjoMPdWj8_KTB-21&quot; target=&quot;mnfu5z3pjoMPdWj8_KTB-23&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;mnfu5z3pjoMPdWj8_KTB-21&quot; value=&quot;&quot; style=&quot;points=[];aspect=fixed;html=1;align=center;shadow=0;dashed=0;fillColor=#FF6A00;strokeColor=none;shape=mxgraph.alibaba_cloud.kafka;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;547.5&quot; y=&quot;465.5&quot; width=&quot;56.699999999999996&quot; height=&quot;42&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;mnfu5z3pjoMPdWj8_KTB-22&quot; value=&quot;Kafka&quot; style=&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;564.2&quot; y=&quot;433&quot; width=&quot;50&quot; height=&quot;30&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;mnfu5z3pjoMPdWj8_KTB-27&quot; value=&quot;&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;mnfu5z3pjoMPdWj8_KTB-23&quot; target=&quot;mnfu5z3pjoMPdWj8_KTB-26&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;mnfu5z3pjoMPdWj8_KTB-28&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.25;exitY=1;exitDx=0;exitDy=0;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;mnfu5z3pjoMPdWj8_KTB-23&quot; target=&quot;mnfu5z3pjoMPdWj8_KTB-25&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;mnfu5z3pjoMPdWj8_KTB-23&quot; value=&quot;Ingestion Service&quot; style=&quot;shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;637.5&quot; y=&quot;468&quot; width=&quot;110&quot; height=&quot;37&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;mnfu5z3pjoMPdWj8_KTB-25&quot; value=&quot;&quot; style=&quot;outlineConnect=0;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;shape=mxgraph.aws3.redis;fillColor=#2E73B8;gradientColor=none;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;647.5&quot; y=&quot;530&quot; width=&quot;40&quot; height=&quot;30&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;mnfu5z3pjoMPdWj8_KTB-26&quot; value=&quot;&quot; style=&quot;sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#232F3D;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.cold_storage;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;720.19&quot; y=&quot;530&quot; width=&quot;27.31&quot; height=&quot;30&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;mnfu5z3pjoMPdWj8_KTB-29&quot; value=&quot;Redis&quot; style=&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;642.5&quot; y=&quot;560&quot; width=&quot;50&quot; height=&quot;30&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;mnfu5z3pjoMPdWj8_KTB-30&quot; value=&quot;Cold Storage&quot; style=&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;682.5&quot; y=&quot;558&quot; width=&quot;90&quot; height=&quot;30&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;mnfu5z3pjoMPdWj8_KTB-32&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;mnfu5z3pjoMPdWj8_KTB-31&quot; target=&quot;mnfu5z3pjoMPdWj8_KTB-16&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;mnfu5z3pjoMPdWj8_KTB-31&quot; value=&quot;Like Service&quot; style=&quot;shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;167.5&quot; y=&quot;513&quot; width=&quot;100&quot; height=&quot;30&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;mnfu5z3pjoMPdWj8_KTB-37&quot; value=&quot;&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;mnfu5z3pjoMPdWj8_KTB-33&quot; target=&quot;mnfu5z3pjoMPdWj8_KTB-36&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;mnfu5z3pjoMPdWj8_KTB-51&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=1;entryY=0.75;entryDx=0;entryDy=0;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;mnfu5z3pjoMPdWj8_KTB-33&quot; target=&quot;mnfu5z3pjoMPdWj8_KTB-31&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;mnfu5z3pjoMPdWj8_KTB-33&quot; value=&quot;Search Service&quot; style=&quot;shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;280.5&quot; y=&quot;558&quot; width=&quot;100&quot; height=&quot;30&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;mnfu5z3pjoMPdWj8_KTB-35&quot; value=&quot;&quot; style=&quot;outlineConnect=0;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;shape=mxgraph.aws3.redis;fillColor=#2E73B8;gradientColor=none;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;420.5&quot; y=&quot;550&quot; width=&quot;40&quot; height=&quot;30&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;mnfu5z3pjoMPdWj8_KTB-36&quot; value=&quot;Redis&quot; style=&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;415.5&quot; y=&quot;580&quot; width=&quot;50&quot; height=&quot;30&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;mnfu5z3pjoMPdWj8_KTB-38&quot; value=&quot;Actor&quot; style=&quot;shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;107.5&quot; y=&quot;520&quot; width=&quot;20&quot; height=&quot;20&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;mnfu5z3pjoMPdWj8_KTB-39&quot; value=&quot;Client&quot; style=&quot;text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;87.5&quot; y=&quot;540&quot; width=&quot;60&quot; height=&quot;30&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;mnfu5z3pjoMPdWj8_KTB-42&quot; value=&quot;&quot; style=&quot;points=[];aspect=fixed;html=1;align=center;shadow=0;dashed=0;fillColor=#FF6A00;strokeColor=none;shape=mxgraph.alibaba_cloud.cdn_content_distribution_network;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;96.5&quot; y=&quot;461&quot; width=&quot;34.96&quot; height=&quot;29&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;mnfu5z3pjoMPdWj8_KTB-43&quot; value=&quot;CDN&quot; style=&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;88.98&quot; y=&quot;431&quot; width=&quot;50&quot; height=&quot;30&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;mnfu5z3pjoMPdWj8_KTB-49&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;mnfu5z3pjoMPdWj8_KTB-46&quot; target=&quot;mnfu5z3pjoMPdWj8_KTB-33&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;mnfu5z3pjoMPdWj8_KTB-46&quot; value=&quot;&quot; style=&quot;points=[];aspect=fixed;html=1;align=center;shadow=0;dashed=0;fillColor=#FF6A00;strokeColor=none;shape=mxgraph.alibaba_cloud.apigateway;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;177.5&quot; y=&quot;558&quot; width=&quot;43.199999999999996&quot; height=&quot;41.699999999999996&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;mnfu5z3pjoMPdWj8_KTB-47&quot; value=&quot;API GW&quot; style=&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;162.5&quot; y=&quot;598&quot; width=&quot;70&quot; height=&quot;30&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;mnfu5z3pjoMPdWj8_KTB-48&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.185;entryY=0.288;entryDx=0;entryDy=0;entryPerimeter=0;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;mnfu5z3pjoMPdWj8_KTB-39&quot; target=&quot;mnfu5z3pjoMPdWj8_KTB-46&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;mnfu5z3pjoMPdWj8_KTB-52&quot; value=&quot;&amp;lt;h2&amp;gt;Deep Dives&amp;lt;/h2&amp;gt;&quot; style=&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;350&quot; y=&quot;610&quot; width=&quot;120&quot; height=&quot;60&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;mnfu5z3pjoMPdWj8_KTB-53&quot; value=&quot;&amp;lt;ol&amp;gt;&amp;lt;li style=&amp;quot;text-align: left;&amp;quot;&amp;gt;Large volume of requests: Redis cache (search/ingestion) + CDN (Cache-control header)&amp;lt;/li&amp;gt;&amp;lt;li style=&amp;quot;text-align: left;&amp;quot;&amp;gt;Multikey word/phrase searches: index bigrams in Ingestion Service. Only index popular keywords keyword-&amp;amp;gt;[postIds].&amp;lt;/li&amp;gt;&amp;lt;li style=&amp;quot;text-align: left;&amp;quot;&amp;gt;Large volume of writes: LB + Kafka fan out to Ingestion workers. For likes update when counts reach power of 10 (e.g. 100 likes, 1k+, 10k+)&amp;amp;nbsp;&amp;lt;/li&amp;gt;&amp;lt;li style=&amp;quot;text-align: left;&amp;quot;&amp;gt;Optimize storage: limits on inverted indices. Batch to move rarely use indexes to cold storage. Check indexes in local Redis, then in cold storage.&amp;lt;/li&amp;gt;&amp;lt;/ol&amp;gt;&quot; style=&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;645&quot; width=&quot;830&quot; height=&quot;100&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;      &lt;/root&gt;&#10;    &lt;/mxGraphModel&gt;&#10;  &lt;/diagram&gt;&#10;&lt;/mxfile&gt;&#10;"><defs><style type="text/css">@import url(https://fonts.googleapis.com/css2?family=Architects+Daughter:wght@400;500);&#xa;</style></defs><rect fill="#ffffff" width="100%" height="100%" x="0" y="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><g><g data-cell-id="0"><g data-cell-id="1"><g data-cell-id="mnfu5z3pjoMPdWj8_KTB-1"><g><rect x="290" y="0" width="280" height="70" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 35px; margin-left: 430px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: nowrap; "><h1>Facebook Post Search</h1></div></div></div></foreignObject><text x="430" y="39" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle">Facebook Post Search</text></switch></g></g></g><g data-cell-id="mnfu5z3pjoMPdWj8_KTB-2"><g><rect x="0" y="70" width="320" height="120" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 130px; margin-left: 160px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: nowrap; "><h2>Functional Requirements</h2><div><ol><li style="text-align: left;">Users should be able to create &amp; like posts</li><li style="text-align: left;">Users should be able to search by keyword</li><li style="text-align: left;">Users get search results by recency &amp; like count</li></ol></div></div></div></div></foreignObject><text x="160" y="134" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle">Functional Requirements...</text></switch></g></g></g><g data-cell-id="mnfu5z3pjoMPdWj8_KTB-3"><g><rect x="510" y="62" width="300" height="150" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 137px; margin-left: 660px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: nowrap; "><h2>Non-Functional Requirements</h2><div><ol><li style="text-align: left;">median response &lt; 500ms</li><li style="text-align: left;">eventual consistency</li><li style="text-align: left;">new posts searchable &lt; 1min</li><li style="text-align: left;">all posts discoverable incl. old and unpopular</li></ol></div><div style="text-align: left;"><br /></div></div></div></div></foreignObject><text x="660" y="141" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle">Non-Functional Requirements...</text></switch></g></g></g><g data-cell-id="mnfu5z3pjoMPdWj8_KTB-4"><g><rect x="320" y="70" width="180" height="130" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 135px; margin-left: 410px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: nowrap; "><h2>Out of Scope</h2><div><ul><li style="text-align: left;">fuzzy matching</li><li style="text-align: left;">personalization</li><li style="text-align: left;">privacy rules/settings</li><li style="text-align: left;">images &amp; media</li></ul></div></div></div></div></foreignObject><text x="410" y="139" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle">Out of Scope...</text></switch></g></g></g><g data-cell-id="mnfu5z3pjoMPdWj8_KTB-5"><g><rect x="330" y="190" width="180" height="80" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 230px; margin-left: 420px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: nowrap; "><h2>Scale Estimations</h2><div><br /></div></div></div></div></foreignObject><text x="420" y="234" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle">Scale Estimations&#xa;</text></switch></g></g></g><g data-cell-id="mnfu5z3pjoMPdWj8_KTB-6"><g><rect x="30" y="242" width="390" height="80" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 282px; margin-left: 225px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: nowrap; "><div style="text-align: left;">writes: </div><div><ul><li>posts =&gt; 1B x 1 post/day /(100k seconds/day) = 10 posts/sec</li><li><span style="background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));">likes: 1B x 10likes/day /(100k seconds/day) = 100k likes/sec</span></li></ul></div></div></div></div></foreignObject><text x="225" y="286" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle">writes:...</text></switch></g></g></g><g data-cell-id="mnfu5z3pjoMPdWj8_KTB-7"><g><rect x="425" y="242" width="370" height="80" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 282px; margin-left: 610px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: nowrap; "><br /><div><ul><li>reads: searches =&gt; 1B * 1 search/day(100k seconds/day)</li><li style="text-align: left;">storage:posts =&gt; 1B/day * 365 * 10 years =&gt; 3.6PB</li></ul></div></div></div></div></foreignObject><text x="610" y="286" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle">reads: searches =&gt; 1B * 1 search/day(100k seconds/day)storage...</text></switch></g></g></g><g data-cell-id="mnfu5z3pjoMPdWj8_KTB-8"><g><path d="M 138.76 255.85 C 121.67 247.27 120 233.14 134.95 223.5 C 149.89 213.86 176.36 212 195.52 219.25 C 214.68 226.49 220 240.37 207.7 251.01 C 195.4 261.65 169.67 265.42 148.81 259.65 C 144.12 266.8 136.55 271.34 128.25 272 C 133.47 268.07 137.19 262.35 138.76 255.85 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="15" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 242px; margin-left: 121px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">write heavy system</div></div></div></foreignObject><text x="170" y="246" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle">write heavy syst...</text></switch></g></g></g><g data-cell-id="mnfu5z3pjoMPdWj8_KTB-9"><g><rect x="345" y="302" width="130" height="80" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 342px; margin-left: 410px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: nowrap; "><h2>Core Entities</h2><div>User | Post | Like</div></div></div></div></foreignObject><text x="410" y="346" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle">Core Entities...</text></switch></g></g></g><g data-cell-id="mnfu5z3pjoMPdWj8_KTB-10"><g><rect x="385" y="365" width="50" height="60" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 395px; margin-left: 410px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: nowrap; "><h2>API</h2></div></div></div></foreignObject><text x="410" y="399" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle">API</text></switch></g></g></g><g data-cell-id="mnfu5z3pjoMPdWj8_KTB-11"><g><rect x="105" y="402" width="630" height="30" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 417px; margin-left: 420px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: nowrap; ">POST /post {title, content} -&gt; Post || POST /post/like/:postId || GET /posts/search?query={}&amp;filters...&amp;page={]limit={}</div></div></div></foreignObject><text x="420" y="421" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle">POST /post {title, content} -&gt; Post || POST /post/like/:postId || GET /posts/search?query={}&amp;filters...&amp;p...</text></switch></g></g></g><g data-cell-id="mnfu5z3pjoMPdWj8_KTB-12"><g><rect x="330" y="415" width="180" height="60" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 445px; margin-left: 420px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: nowrap; "><h2>High Level Design</h2></div></div></div></foreignObject><text x="420" y="449" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle">High Level Design</text></switch></g></g></g><g data-cell-id="mnfu5z3pjoMPdWj8_KTB-15"><g><path d="M 347.5 500 L 367.5 500 L 363.87 500" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 358.62 500 L 365.62 496.5 L 363.87 500 L 365.62 503.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="mnfu5z3pjoMPdWj8_KTB-14"><g><rect x="167.5" y="485" width="100" height="30" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 177.5 485 L 177.5 515 M 257.5 485 L 257.5 515" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 500px; margin-left: 179px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Post Service</div></div></div></foreignObject><text x="218" y="504" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle">Post Service</text></switch></g></g></g><g data-cell-id="mnfu5z3pjoMPdWj8_KTB-17"><g><path d="M 267.5 500 L 301.13 500" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 306.38 500 L 299.38 503.5 L 301.13 500 L 299.38 496.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="mnfu5z3pjoMPdWj8_KTB-16"><g><path d="M 327.5 525 C 315.74 525 307.5 513.36 307.5 501.39 L 307.5 498.61 C 307.5 485.62 316.61 475 327.57 475 C 339.54 475 347.5 487.05 347.5 498.66 L 347.5 501.13 C 347.5 514.53 338.26 525 327.5 525 Z" fill="#f58536" stroke="none" pointer-events="all" style="fill: light-dark(rgb(245, 133, 54), rgb(189, 92, 24));"/><path d="M 307.5 498.61 C 307.5 513.34 317.39 523.02 327.49 523.02 C 338.28 523.02 347.5 512.75 347.5 498.66 L 347.5 501.13 C 347.5 514.53 338.33 525 327.5 525 C 315.75 525 307.5 513.34 307.5 501.39 Z" fill-opacity="0.3" fill="#000000" stroke="none" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(237, 237, 237));"/><rect x="307.5" y="475" width="0" height="0" fill="none" stroke="#000000" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 333.89 490.21 L 333.89 482.43 L 340.37 482.43 L 340.37 490.21 Z M 333.89 502.9 L 333.89 495.12 L 340.37 495.12 L 340.37 502.9 Z M 333.89 515.6 L 333.89 507.82 L 340.37 507.82 L 340.37 515.6 Z M 310.68 506.03 L 310.68 492 L 317.95 492 L 317.95 497.62 L 329.58 488.69 L 328.84 487.31 L 333.89 486.61 L 331.3 491.87 L 330.51 490.41 L 320.65 497.99 L 329.33 497.99 L 329.33 496.28 L 333.89 498.98 L 329.33 501.69 L 329.33 500.04 L 320.66 500.04 L 330.51 507.63 L 331.3 506.17 L 333.89 511.42 L 328.83 510.72 L 329.57 509.34 L 317.95 500.4 L 317.95 506.03 Z" fill="#ffffff" stroke="none" pointer-events="all" style="fill: light-dark(rgb(255, 255, 255), rgb(18, 18, 18));"/></g></g><g data-cell-id="mnfu5z3pjoMPdWj8_KTB-20"><g><path d="M 477.5 498.5 L 541.13 498.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 546.38 498.5 L 539.38 502 L 541.13 498.5 L 539.38 495 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="mnfu5z3pjoMPdWj8_KTB-18"><g><rect x="367.5" y="475" width="110" height="47" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 378.5 475 L 378.5 522 M 466.5 475 L 466.5 522" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 86px; height: 1px; padding-top: 499px; margin-left: 380px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Event Writer</div></div></div></foreignObject><text x="423" y="502" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle">Event Writer</text></switch></g></g></g><g data-cell-id="mnfu5z3pjoMPdWj8_KTB-24"><g><path d="M 604.2 498.5 L 624.2 498.5 L 617.5 498.5 L 631.13 498.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 636.38 498.5 L 629.38 502 L 631.13 498.5 L 629.38 495 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="mnfu5z3pjoMPdWj8_KTB-21"><g><path d="M 584.89 477.5 C 582.76 477.5 581.14 479.24 581.14 481.49 C 581.14 483.23 582.4 484.73 584.02 485.25 L 584.02 488.01 C 581.14 488.73 578.88 491.49 578.88 494.73 C 578.88 497.97 581.14 500.62 584.02 501.49 L 584.02 503.86 C 582.4 504.25 581.14 505.87 581.14 507.61 C 581.14 509.74 582.88 511.48 585.01 511.48 C 587.14 511.48 588.88 509.74 588.88 507.61 C 588.88 505.87 587.74 504.37 586.12 503.86 L 586.12 501.37 C 588.37 501.25 590.27 500.11 591.5 498.48 L 595.88 500.98 C 595.88 501.1 595.76 501.22 595.76 501.34 C 595.76 503.47 597.5 505.21 599.64 505.21 C 601.77 505.21 603.51 503.47 603.51 501.34 C 603.39 499.21 601.77 497.58 599.64 497.58 C 598.37 497.58 597.38 498.21 596.51 499.09 L 592.25 496.59 C 592.49 495.84 592.61 495.21 592.61 494.46 C 592.61 493.32 592.37 492.33 591.86 491.58 L 596.72 488.82 C 597.47 489.57 598.46 489.96 599.49 489.96 C 601.62 489.96 603.36 488.22 603.36 486.09 C 603.36 483.95 601.62 482.21 599.49 482.21 C 597.35 482.21 595.64 483.98 595.64 486.12 C 595.64 486.36 595.76 486.75 595.76 486.99 L 590.75 489.87 C 589.48 488.61 587.86 487.74 586 487.62 L 586 485.13 C 587.62 484.62 588.76 483.11 588.76 481.37 C 588.76 479.24 587.02 477.5 584.89 477.5 Z M 572.4 480.98 C 563.75 480.98 556.51 487.74 555.76 496.35 C 550.89 497.85 547.5 502.48 547.5 507.61 C 547.5 514.13 552.76 519.5 559.39 519.5 L 592.19 519.5 C 598.7 519.5 603.96 514.25 604.08 507.73 C 604.08 507.61 604.08 507.49 604.2 507.37 L 600.03 507.88 C 599.66 512.02 596.39 515.15 592.28 515.15 L 559.48 515.15 C 555.22 515.15 551.74 511.63 551.74 507.4 C 551.74 503.53 554.5 500.29 558.25 499.66 L 559.87 499.42 L 559.87 497.49 C 559.87 490.5 565.64 484.86 572.52 484.86 C 574.14 484.86 575.64 485.1 577.02 485.73 C 577.65 484.59 578.4 483.47 579.15 482.36 C 577.02 481.49 574.77 480.98 572.4 480.98 Z" fill="#ff6a00" stroke="none" pointer-events="all" style="fill: light-dark(rgb(255, 106, 0), rgb(233, 105, 14));"/></g></g><g data-cell-id="mnfu5z3pjoMPdWj8_KTB-22"><g><rect x="564.2" y="445" width="50" height="30" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 460px; margin-left: 589px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: nowrap; ">Kafka</div></div></div></foreignObject><text x="589" y="464" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle">Kafka</text></switch></g></g></g><g data-cell-id="mnfu5z3pjoMPdWj8_KTB-27"><g><path d="M 692.5 517 L 692.5 537 L 733.9 537 L 733.9 535.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 733.9 540.88 L 730.4 533.88 L 733.9 535.63 L 737.4 533.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="mnfu5z3pjoMPdWj8_KTB-28"><g><path d="M 665 517 L 665 537 L 667.5 537 L 667.5 535.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 667.5 540.88 L 664 533.88 L 667.5 535.63 L 671 533.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="mnfu5z3pjoMPdWj8_KTB-23"><g><rect x="637.5" y="480" width="110" height="37" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 648.5 480 L 648.5 517 M 736.5 480 L 736.5 517" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 86px; height: 1px; padding-top: 499px; margin-left: 650px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Ingestion Service</div></div></div></foreignObject><text x="693" y="502" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle">Ingestion Serv...</text></switch></g></g></g><g data-cell-id="mnfu5z3pjoMPdWj8_KTB-25"><g><path d="M 654.43 572 C 650.47 572 647.5 569.63 647.5 567.19 L 647.5 546.86 C 647.5 544.32 650.52 542 654.31 542 L 680.71 542 C 684.23 542 687.5 544.12 687.5 546.94 L 687.5 567.15 C 687.5 569.52 684.76 572 680.67 572 Z" fill="#2e73b8" stroke="none" pointer-events="all" style="fill: light-dark(rgb(46, 115, 184), rgb(95, 155, 214));"/><path d="M 647.5 565.86 C 647.5 568.12 650.16 570.7 654.44 570.7 L 680.78 570.7 C 684.6 570.7 687.5 568.26 687.5 565.83 L 687.5 567.15 C 687.5 569.58 684.69 572 680.67 572 L 654.43 572 C 650.41 572 647.5 569.62 647.5 567.19 Z" fill-opacity="0.3" fill="#000000" stroke="none" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(237, 237, 237));"/><rect x="647.5" y="542" width="0" height="0" fill="none" stroke="#000000" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 664.47 555.92 L 664.47 553.21 L 667.92 553.21 C 668.94 553.21 669.86 553.47 669.9 554.48 C 669.95 555.49 669.13 555.92 667.89 555.92 Z M 661.46 561.34 L 664.47 561.34 L 664.47 557.54 L 667.53 557.54 C 668.4 557.54 669.23 557.68 669.57 558.44 C 669.87 559.04 669.82 559.91 669.93 560.51 C 669.98 560.83 670.09 561.14 670.21 561.34 L 673.15 561.34 C 672.79 560.97 672.6 560.2 672.51 559.27 C 672.42 558.16 672.17 557.59 671.58 557.11 C 671.34 556.92 670.95 556.69 670.31 556.61 C 671.43 556.29 672.22 555.81 672.54 555.03 C 672.83 554.34 672.73 553.49 672.29 552.92 C 671.57 551.95 670.24 551.59 668.97 551.59 L 661.46 551.59 Z M 653.16 564.04 L 653.16 561.87 L 656.93 561.87 L 656.93 560.79 L 653.15 560.79 L 653.16 558.62 L 656.93 558.62 L 656.93 557.55 L 653.15 557.55 L 653.15 555.37 L 656.93 555.37 L 656.93 554.3 L 653.15 554.3 L 653.15 552.12 L 656.93 552.12 L 656.93 551.05 L 653.15 551.05 L 653.16 548.87 L 656.93 548.87 L 656.93 546.17 L 659.94 546.17 L 659.94 548.87 L 661.45 548.87 L 661.45 546.17 L 664.47 546.17 L 664.47 548.87 L 665.99 548.87 L 665.99 546.17 L 669 546.17 L 669 548.87 L 670.51 548.87 L 670.51 546.17 L 673.54 546.17 L 673.54 548.87 L 675.05 548.87 L 675.05 546.17 L 678.06 546.17 L 678.06 548.87 L 681.83 548.87 L 681.83 551.05 L 678.06 551.05 L 678.06 552.12 L 681.83 552.12 L 681.83 554.3 L 678.06 554.3 L 678.06 555.37 L 681.83 555.37 L 681.83 557.55 L 678.06 557.55 L 678.06 558.62 L 681.83 558.62 L 681.83 560.79 L 678.06 560.79 L 678.06 561.87 L 681.83 561.87 L 681.83 564.04 L 678.06 564.04 L 678.06 566.75 L 675.05 566.75 L 675.05 564.04 L 673.54 564.04 L 673.54 566.75 L 670.51 566.75 L 670.51 564.04 L 669 564.04 L 669 566.75 L 665.99 566.75 L 665.99 564.04 L 664.47 564.04 L 664.47 566.75 L 661.45 566.75 L 661.45 564.04 L 659.94 564.04 L 659.94 566.75 L 656.93 566.75 L 656.93 564.04 Z" fill="#ffffff" stroke="none" pointer-events="all" style="fill: light-dark(rgb(255, 255, 255), rgb(18, 18, 18));"/></g></g><g data-cell-id="mnfu5z3pjoMPdWj8_KTB-26"><g><rect x="720.19" y="542" width="27.31" height="30" fill="none" stroke="none" pointer-events="all"/><path d="M 746.13 566.56 C 746.13 565.33 745.48 564.2 744.43 563.59 C 744.22 563.47 744.09 563.24 744.09 563 L 744.09 546.08 C 744.09 545.32 743.47 544.71 742.72 544.71 C 741.97 544.71 741.36 545.32 741.36 546.08 L 741.36 563.01 C 741.36 563.25 741.23 563.48 741.01 563.6 C 739.96 564.21 739.31 565.34 739.31 566.56 C 739.31 568.44 740.84 569.97 742.72 569.97 C 744.6 569.97 746.13 568.44 746.13 566.56 M 747.5 566.56 C 747.5 569.19 745.36 571.34 742.72 571.34 C 740.09 571.34 737.94 569.19 737.94 566.56 C 737.94 564.99 738.72 563.53 739.99 562.64 L 739.99 546.08 C 739.99 544.57 741.21 543.35 742.72 543.35 C 744.23 543.35 745.45 544.57 745.45 546.08 L 745.45 562.62 C 746.72 563.51 747.5 564.98 747.5 566.56 M 744.09 566.56 C 744.09 565.81 743.47 565.19 742.72 565.19 C 741.97 565.19 741.36 565.81 741.36 566.56 C 741.36 567.31 741.97 567.92 742.72 567.92 C 743.47 567.92 744.09 567.31 744.09 566.56 M 745.45 566.56 C 745.45 568.06 744.23 569.29 742.72 569.29 C 741.21 569.29 739.99 568.06 739.99 566.56 C 739.99 565.29 740.86 564.23 742.04 563.92 L 742.04 558.37 L 743.4 558.37 L 743.4 563.92 C 744.58 564.23 745.45 565.29 745.45 566.56 M 737.08 569.37 L 737.67 570.6 C 735.82 571.49 732.96 572 729.84 572 C 724.07 572 720.19 570.32 720.19 567.83 L 720.19 546.08 L 720.2 546.08 C 720.36 543.63 724.28 542 730.07 542 C 733.33 542 736.29 542.54 738.2 543.48 L 737.6 544.71 C 735.9 543.87 733.08 543.37 730.07 543.37 C 724.81 543.37 721.56 544.85 721.56 546.22 C 721.56 547.6 724.81 549.08 730.07 549.08 C 733.11 549.08 735.94 548.57 737.64 547.72 L 738.25 548.94 C 736.34 549.9 733.36 550.44 730.07 550.44 C 726.22 550.44 723.2 549.72 721.56 548.52 L 721.56 553.81 C 721.56 555.18 724.81 556.66 730.07 556.66 C 733.1 556.66 735.92 556.16 737.61 555.32 L 738.22 556.55 C 736.31 557.49 733.35 558.03 730.07 558.03 C 726.22 558.03 723.2 557.3 721.56 556.1 L 721.56 560.9 C 721.56 562.3 724.74 563.74 730.07 563.74 C 732.71 563.74 735.21 563.36 736.93 562.71 L 737.42 563.98 C 735.52 564.71 732.91 565.11 730.07 565.11 C 726.22 565.11 723.2 564.38 721.56 563.19 L 721.56 567.83 C 721.56 569.21 724.65 570.63 729.84 570.63 C 732.76 570.63 735.4 570.17 737.08 569.37" fill="#232f3d" stroke="none" pointer-events="all" style="fill: light-dark(rgb(35, 47, 61), rgb(190, 200, 212));"/></g></g><g data-cell-id="mnfu5z3pjoMPdWj8_KTB-29"><g><rect x="642.5" y="572" width="50" height="30" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 587px; margin-left: 668px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: nowrap; ">Redis</div></div></div></foreignObject><text x="668" y="591" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle">Redis</text></switch></g></g></g><g data-cell-id="mnfu5z3pjoMPdWj8_KTB-30"><g><rect x="682.5" y="570" width="90" height="30" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 585px; margin-left: 728px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: nowrap; ">Cold Storage</div></div></div></foreignObject><text x="728" y="589" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle">Cold Storage</text></switch></g></g></g><g data-cell-id="mnfu5z3pjoMPdWj8_KTB-32"><g><path d="M 267.5 540 L 287.5 540 L 287.5 500 L 301.13 500" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 306.38 500 L 299.38 503.5 L 301.13 500 L 299.38 496.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="mnfu5z3pjoMPdWj8_KTB-31"><g><rect x="167.5" y="525" width="100" height="30" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 177.5 525 L 177.5 555 M 257.5 525 L 257.5 555" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 540px; margin-left: 179px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Like Service</div></div></div></foreignObject><text x="218" y="544" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle">Like Service</text></switch></g></g></g><g data-cell-id="mnfu5z3pjoMPdWj8_KTB-37"><g><path d="M 380.5 585 L 400.5 585 L 400.5 607 L 409.13 607" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 414.38 607 L 407.38 610.5 L 409.13 607 L 407.38 603.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="mnfu5z3pjoMPdWj8_KTB-51"><g><path d="M 330.5 570 L 330.5 547.5 L 273.87 547.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 268.62 547.5 L 275.62 544 L 273.87 547.5 L 275.62 551 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="mnfu5z3pjoMPdWj8_KTB-33"><g><rect x="280.5" y="570" width="100" height="30" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 290.5 570 L 290.5 600 M 370.5 570 L 370.5 600" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 585px; margin-left: 292px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Search Service</div></div></div></foreignObject><text x="331" y="589" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle">Search Service</text></switch></g></g></g><g data-cell-id="mnfu5z3pjoMPdWj8_KTB-35"><g><path d="M 427.43 592 C 423.47 592 420.5 589.63 420.5 587.19 L 420.5 566.86 C 420.5 564.32 423.52 562 427.31 562 L 453.71 562 C 457.23 562 460.5 564.12 460.5 566.94 L 460.5 587.15 C 460.5 589.52 457.76 592 453.67 592 Z" fill="#2e73b8" stroke="none" pointer-events="all" style="fill: light-dark(rgb(46, 115, 184), rgb(95, 155, 214));"/><path d="M 420.5 585.86 C 420.5 588.12 423.16 590.7 427.44 590.7 L 453.78 590.7 C 457.6 590.7 460.5 588.26 460.5 585.83 L 460.5 587.15 C 460.5 589.58 457.69 592 453.67 592 L 427.43 592 C 423.41 592 420.5 589.62 420.5 587.19 Z" fill-opacity="0.3" fill="#000000" stroke="none" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(237, 237, 237));"/><rect x="420.5" y="562" width="0" height="0" fill="none" stroke="#000000" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 437.47 575.92 L 437.47 573.21 L 440.92 573.21 C 441.94 573.21 442.86 573.47 442.9 574.48 C 442.95 575.49 442.13 575.92 440.89 575.92 Z M 434.46 581.34 L 437.47 581.34 L 437.47 577.54 L 440.53 577.54 C 441.4 577.54 442.23 577.68 442.57 578.44 C 442.87 579.04 442.82 579.91 442.93 580.51 C 442.98 580.83 443.09 581.14 443.21 581.34 L 446.15 581.34 C 445.79 580.97 445.6 580.2 445.51 579.27 C 445.42 578.16 445.17 577.59 444.58 577.11 C 444.34 576.92 443.95 576.69 443.31 576.61 C 444.43 576.29 445.22 575.81 445.54 575.03 C 445.83 574.34 445.73 573.49 445.29 572.92 C 444.57 571.95 443.24 571.59 441.97 571.59 L 434.46 571.59 Z M 426.16 584.04 L 426.16 581.87 L 429.93 581.87 L 429.93 580.79 L 426.15 580.79 L 426.16 578.62 L 429.93 578.62 L 429.93 577.55 L 426.15 577.55 L 426.15 575.37 L 429.93 575.37 L 429.93 574.3 L 426.15 574.3 L 426.15 572.12 L 429.93 572.12 L 429.93 571.05 L 426.15 571.05 L 426.16 568.87 L 429.93 568.87 L 429.93 566.17 L 432.94 566.17 L 432.94 568.87 L 434.45 568.87 L 434.45 566.17 L 437.47 566.17 L 437.47 568.87 L 438.99 568.87 L 438.99 566.17 L 442 566.17 L 442 568.87 L 443.51 568.87 L 443.51 566.17 L 446.54 566.17 L 446.54 568.87 L 448.05 568.87 L 448.05 566.17 L 451.06 566.17 L 451.06 568.87 L 454.83 568.87 L 454.83 571.05 L 451.06 571.05 L 451.06 572.12 L 454.83 572.12 L 454.83 574.3 L 451.06 574.3 L 451.06 575.37 L 454.83 575.37 L 454.83 577.55 L 451.06 577.55 L 451.06 578.62 L 454.83 578.62 L 454.83 580.79 L 451.06 580.79 L 451.06 581.87 L 454.83 581.87 L 454.83 584.04 L 451.06 584.04 L 451.06 586.75 L 448.05 586.75 L 448.05 584.04 L 446.54 584.04 L 446.54 586.75 L 443.51 586.75 L 443.51 584.04 L 442 584.04 L 442 586.75 L 438.99 586.75 L 438.99 584.04 L 437.47 584.04 L 437.47 586.75 L 434.45 586.75 L 434.45 584.04 L 432.94 584.04 L 432.94 586.75 L 429.93 586.75 L 429.93 584.04 Z" fill="#ffffff" stroke="none" pointer-events="all" style="fill: light-dark(rgb(255, 255, 255), rgb(18, 18, 18));"/></g></g><g data-cell-id="mnfu5z3pjoMPdWj8_KTB-36"><g><rect x="415.5" y="592" width="50" height="30" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 607px; margin-left: 441px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: nowrap; ">Redis</div></div></div></foreignObject><text x="441" y="611" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle">Redis</text></switch></g></g></g><g data-cell-id="mnfu5z3pjoMPdWj8_KTB-38"><g><ellipse cx="117.5" cy="534.5" rx="5" ry="2.5" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 117.5 537 L 117.5 545.33 M 117.5 538.67 L 107.5 538.67 M 117.5 538.67 L 127.5 538.67 M 117.5 545.33 L 107.5 552 M 117.5 545.33 L 127.5 552" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 559px; margin-left: 118px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: nowrap; ">Actor</div></div></div></foreignObject><text x="118" y="571" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle">Act...</text></switch></g></g></g><g data-cell-id="mnfu5z3pjoMPdWj8_KTB-39"><g><rect x="87.5" y="552" width="60" height="30" fill="#f5f5f5" stroke="#666666" pointer-events="all" style="fill: light-dark(rgb(245, 245, 245), rgb(26, 26, 26)); stroke: light-dark(rgb(102, 102, 102), rgb(149, 149, 149));"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 567px; margin-left: 89px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #333333; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#333333, #c1c1c1); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Client</div></div></div></foreignObject><text x="118" y="571" fill="#333333" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle">Client</text></switch></g></g></g><g data-cell-id="mnfu5z3pjoMPdWj8_KTB-42"><g><path d="M 125.03 473 C 125.63 473 126.22 473.08 126.78 473.27 C 127.07 473.35 127.34 473.47 127.61 473.62 C 127.87 473.76 128.12 473.91 128.37 474.09 C 128.84 474.46 129.21 474.9 129.48 475.35 C 129.73 475.78 129.89 476.28 129.93 476.79 C 129.98 477.29 129.89 477.8 129.71 478.26 C 129.5 478.75 129.17 479.2 128.76 479.55 C 128.53 479.74 128.31 479.93 128.04 480.07 C 127.79 480.21 127.5 480.34 127.23 480.44 C 126.95 480.54 126.66 480.61 126.37 480.67 C 125.92 480.75 125.48 480.75 125.03 480.73 C 124.6 480.69 124.16 480.61 123.75 480.48 L 119.9 483.82 C 120.16 484.25 120.37 484.69 120.51 485.16 C 120.8 486.09 120.8 487.08 120.54 488 C 120.39 488.5 120.18 488.95 119.92 489.39 L 124.04 492.91 C 124.51 492.72 125.03 492.6 125.54 492.56 C 126.04 492.52 126.53 492.54 127.03 492.62 C 127.69 492.72 128.31 492.95 128.88 493.28 C 129.17 493.45 129.46 493.63 129.71 493.86 C 130.2 494.27 130.64 494.79 130.92 495.36 C 131.21 495.92 131.38 496.5 131.42 497.09 C 131.46 497.69 131.38 498.29 131.17 498.85 C 130.94 499.44 130.59 499.98 130.14 500.41 C 129.89 500.64 129.65 500.85 129.36 501.03 C 129.07 501.22 128.78 501.36 128.47 501.46 C 128.16 501.59 127.83 501.67 127.52 501.73 C 126.18 501.96 124.78 501.71 123.61 501.03 C 123.3 500.85 123.03 500.64 122.76 500.41 C 122.35 500.04 122 499.63 121.73 499.14 C 121.48 498.7 121.3 498.21 121.22 497.71 C 121.13 497.24 121.13 496.74 121.19 496.25 C 121.28 495.78 121.44 495.3 121.69 494.87 L 117.73 491.43 C 117.44 491.59 117.15 491.74 116.85 491.86 C 116.54 491.98 116.23 492.09 115.92 492.17 C 115.28 492.33 114.62 492.42 113.98 492.42 C 113.42 492.42 112.89 492.35 112.33 492.25 C 111.8 492.13 111.28 491.96 110.78 491.74 L 106.54 495.45 C 106.7 495.86 106.79 496.29 106.81 496.72 C 106.83 497.16 106.79 497.61 106.68 498.04 C 106.56 498.5 106.39 498.91 106.15 499.3 C 105.88 499.71 105.57 500.1 105.2 500.43 C 104.93 500.66 104.66 500.87 104.35 501.05 C 103.18 501.75 101.78 502 100.44 501.75 C 100.11 501.69 99.8 501.61 99.49 501.48 C 99.18 501.36 98.89 501.22 98.6 501.05 C 98.31 500.87 98.07 500.66 97.82 500.43 C 97.37 500 97.02 499.46 96.79 498.87 C 96.58 498.31 96.5 497.71 96.54 497.12 C 96.58 496.52 96.75 495.94 97.04 495.38 C 97.35 494.81 97.76 494.29 98.25 493.88 C 98.77 493.45 99.37 493.12 99.98 492.89 C 100.81 492.6 101.69 492.5 102.58 492.6 C 103.03 492.66 103.47 492.77 103.88 492.93 C 104.09 493.01 104.29 493.1 104.5 493.22 L 108.41 489.84 C 108.04 489.37 107.75 488.83 107.55 488.25 C 107.18 487.16 107.2 485.99 107.59 484.89 C 107.8 484.34 108.08 483.82 108.46 483.35 L 104.87 480.26 C 104.5 480.42 104.13 480.54 103.74 480.63 C 103.06 480.77 102.33 480.79 101.65 480.67 C 101.36 480.63 101.06 480.54 100.79 480.44 C 100.5 480.34 100.23 480.21 99.98 480.07 C 99.74 479.93 99.49 479.76 99.26 479.55 C 98.85 479.2 98.52 478.75 98.31 478.26 C 98.13 477.8 98.05 477.29 98.09 476.79 C 98.13 476.3 98.27 475.8 98.54 475.35 C 98.83 474.86 99.2 474.44 99.65 474.09 C 99.9 473.91 100.15 473.74 100.42 473.62 C 100.68 473.47 100.95 473.37 101.24 473.27 C 101.8 473.08 102.4 473 102.99 473 C 103.28 473 103.59 473.02 103.88 473.06 C 104.17 473.1 104.46 473.19 104.72 473.27 C 104.99 473.35 105.26 473.47 105.51 473.62 C 105.76 473.76 106 473.91 106.21 474.09 C 106.54 474.38 106.81 474.69 107.01 475.04 C 107.42 475.7 107.57 476.48 107.42 477.25 C 107.36 477.64 107.22 478.01 107.01 478.36 L 110.74 481.53 C 111.51 481.18 112.33 480.94 113.16 480.85 C 114.08 480.75 115.03 480.81 115.96 481.06 C 116.27 481.14 116.6 481.24 116.89 481.37 C 117.2 481.49 117.48 481.64 117.77 481.8 L 121.28 478.79 C 120.99 478.44 120.78 478.03 120.66 477.6 C 120.54 477.18 120.49 476.75 120.54 476.34 C 120.58 475.93 120.7 475.51 120.93 475.12 C 121.15 474.71 121.44 474.36 121.79 474.07 C 122.02 473.89 122.25 473.72 122.49 473.6 C 122.74 473.45 123.01 473.35 123.28 473.25 C 123.54 473.16 123.83 473.08 124.12 473.04 C 124.45 473.02 124.74 473 125.03 473 Z" fill="#ff6a00" stroke="none" pointer-events="all" style="fill: light-dark(rgb(255, 106, 0), rgb(233, 105, 14));"/></g></g><g data-cell-id="mnfu5z3pjoMPdWj8_KTB-43"><g><rect x="88.98" y="443" width="50" height="30" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 458px; margin-left: 114px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: nowrap; ">CDN</div></div></div></foreignObject><text x="114" y="462" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle">CDN</text></switch></g></g></g><g data-cell-id="mnfu5z3pjoMPdWj8_KTB-49"><g><path d="M 220.7 590.9 L 250.6 590.9 L 250.6 585 L 274.13 585" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 279.38 585 L 272.38 588.5 L 274.13 585 L 272.38 581.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="mnfu5z3pjoMPdWj8_KTB-46"><g><path d="M 206.53 570.01 C 205.77 570 205.06 570.08 204.42 570.25 L 203.93 570.38 L 201.87 570.94 L 196.59 572.37 L 191.46 573.76 L 177.5 577.56 L 177.5 606.26 L 197.98 611.7 L 220.7 605.61 L 220.7 598.8 L 207.37 595.19 L 214.02 593.41 L 214.15 593.38 C 218.32 592.31 220.7 588.83 220.7 583.69 C 220.7 578.5 217.72 573.09 210.73 570.78 C 209.2 570.27 207.79 570.01 206.53 570.01 Z M 206.64 573.42 C 207.49 573.44 208.5 573.63 209.66 574.01 C 214.69 575.68 217.29 579.36 217.29 583.69 C 217.29 587.37 215.85 589.46 213.21 590.1 L 213.18 590.11 L 205.68 592.11 L 205.68 598.27 L 217.29 601.41 L 217.29 602.99 L 197.98 608.17 L 180.91 603.64 L 180.91 580.16 L 194.25 576.54 L 201.71 574.51 L 204.4 573.79 L 205.29 573.55 C 205.68 573.45 206.13 573.4 206.64 573.42 Z M 194.17 581.81 L 194.17 590.04 L 197.91 589.03 L 197.91 593.8 L 194.17 594.81 L 194.17 599.01 L 201.99 601.09 L 201.99 583.89 Z M 192.97 590.62 L 189.06 591.67 L 189.06 596.1 L 192.97 595.05 Z M 187.37 592.48 L 183.96 593.39 L 183.96 597.12 L 187.37 596.2 Z" fill="#ff6a00" stroke="none" pointer-events="all" style="fill: light-dark(rgb(255, 106, 0), rgb(233, 105, 14));"/></g></g><g data-cell-id="mnfu5z3pjoMPdWj8_KTB-47"><g><rect x="162.5" y="610" width="70" height="30" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 625px; margin-left: 198px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: nowrap; ">API GW</div></div></div></foreignObject><text x="198" y="629" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle">API GW</text></switch></g></g></g><g data-cell-id="mnfu5z3pjoMPdWj8_KTB-48"><g><path d="M 147.5 567 L 167.5 567 L 167.5 582 L 179.12 582.01" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 184.37 582.01 L 177.37 585.51 L 179.12 582.01 L 177.38 578.51 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g></g><g data-cell-id="mnfu5z3pjoMPdWj8_KTB-52"><g><rect x="350" y="622" width="120" height="60" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 652px; margin-left: 410px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: nowrap; "><h2>Deep Dives</h2></div></div></div></foreignObject><text x="410" y="656" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle">Deep Dives</text></switch></g></g></g><g data-cell-id="mnfu5z3pjoMPdWj8_KTB-53"><g><rect x="0" y="657" width="830" height="100" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 707px; margin-left: 415px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: &quot;Helvetica&quot;; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: nowrap; "><ol><li style="text-align: left;">Large volume of requests: Redis cache (search/ingestion) + CDN (Cache-control header)</li><li style="text-align: left;">Multikey word/phrase searches: index bigrams in Ingestion Service. Only index popular keywords keyword-&gt;[postIds].</li><li style="text-align: left;">Large volume of writes: LB + Kafka fan out to Ingestion workers. For likes update when counts reach power of 10 (e.g. 100 likes, 1k+, 10k+) </li><li style="text-align: left;">Optimize storage: limits on inverted indices. Batch to move rarely use indexes to cold storage. Check indexes in local Redis, then in cold storage.</li></ol></div></div></div></foreignObject><text x="415" y="711" fill="light-dark(#000000, #ffffff)" font-family="&quot;Helvetica&quot;" font-size="12px" text-anchor="middle">Large volume of requests: Redis cache (search/ingestion) + CDN (Cache-control header)Multikey word/phrase searches: index bigrams in Inges...</text></switch></g></g></g></g></g></g></svg>